<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="index.css">
    <title>Document</title>
</head>

<body>
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark  ">
        <div class="container-fluid">
            <a id="logoLink" class="navbar-brand" href="index.html"></a>
            <img src="https://avatars.githubusercontent.com/u/4418296?v=4" alt="Avatar Logo" style="width:40px;"
                class="rounded-pill">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="collapsibleNavbar">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="aboutMe.html">About
                            Me</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="whatIDo.html">What I
                            Do</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="photoGallery.html">Photo
                            Gallery</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="lifeSoFar.html">Life So
                            Far</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contactMe.html">Contact
                            Me</a>
                    </li>

                </ul>
            </div>
            </a>
        </div>
    </nav>

    <div class="container pt-3">
        <div class="row">
            <div class="accordion col-8" id="accordionExample">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            Currently
                        </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                        data-bs-parent="#accordionExample">
                        <div class="accordion-body">
                            <strong>I'm happy I'm here at Revature.</strong> I like working here.
                             I look forward to working here and using this experience to develop other programmers
                              in Baltimore and abroad.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            On my free time
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                        data-bs-parent="#accordionExample">
                        <div class="accordion-body">
                            <strong>I -- like many of you -- run Dungeons and Dragons.</strong> I've run very easy campaigns.
                            I typically have newbies at my table. I got into the hobby thanks to Geek and Sundry's Titansgrave.
                             I've been a short term fan of shows like Critical Role. Currently my favorite kind of missions to 
                             run are straight forward or one-shot heists. Below are some of my attempts at including fetch API.
                              Like a Dungeons and Dragons 5E API call and a Cat API call that I learned a lot from.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            My Sundays
                        </button>
                    </h2>
                    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                        data-bs-parent="#accordionExample">
                        <div class="accordion-body">
                            <strong>I work the streaming video for my church.</strong> It helps to reach the members 
                            who need to stay away from crowds since covid. Also it helps to reach the sick, elderly, those
                             who haven't been able to find a church. And for me, it's kind of a pain to work the stream since
                              the tools we're using have changed and <em>ALWAYS</em> fail me. 
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-4">
                <img class="img-fluid"
                    src="https://img.freepik.com/free-photo/young-smiling-african-american-man-pretty-asian-woman-dreamily-reading-book-together-modern-co-working-space_574295-1943.jpg"
                    alt="" srcset="">
            </div>
        </div>
    </div>

    <div class="container" style="text-align: center ;">
        <h1 >My API experiments</h1>
    </div>

    <div class="container row pt-3 d-flex justify-content-evenly    ">
        <div class="col-6" >
            <h3>A list of classes</h3>
                <p>The list begins</p>
                <ul id="dnd">

                </ul>
        </div>
        
        <div class="col-6">
            <select onchange="showBreedImage(value)" name="breed_selector" id="breed_selector">
            </select>

            <div>
                <a id="wiki_link" target="_blank"></a>
                <div id="breed_json"></div>
            </div>

            <div>
                <img id="breed_image" class="img-fluid pb-3"></img>
            </div>
        </div>
    </div>


    <script>
        const urls = `https://api.thecatapi.com/v1/breeds`;
        const api_key = "live_AR5unbASbJXaatCWuwoVUMhA1ifjFBrqkuqn6EB6RzO3L0qhoDEKy1OZ0I42NVO8";
        let storedBreeds = []

        fetch("https://www.dnd5eapi.co/api/classes/", {
            headers: {
                Accept: "application/json"
            }
        }).then((x) => { return x.json() })
            .then((data) => {
                console.log(data.results[1].name);
                
                for (var i = 0; i < data.results.length; i++) {

                    var li = document.createElement('li');
                    document.getElementById('dnd').appendChild(li);
                    li.innerHTML = li.innerHTML + data.results[i].name;
                }
            })




        fetch(urls, {
            headers: {
                'x-api-key': api_key
            }
        })
            .then((response) => {
                return response.json();
            })
            .then((data) => {

                //filter to only include those with an `image` object
                data = data.filter(img => img.image?.url != null)

                storedBreeds = data;

                for (let i = 0; i < storedBreeds.length; i++) {
                    const breed = storedBreeds[i];
                    let option = document.createElement('option');

                    //skip any breeds that don't have an image
                    if (!breed.image) continue

                    //use the current array index
                    option.value = i;
                    option.innerHTML = `${breed.name}`;
                    document.getElementById('breed_selector').appendChild(option);

                }
                //show the first breed by default
                showBreedImage(0)
            })
            .catch(function (error) {
                console.log(error);
            });

        function showBreedImage(index) {
            document.getElementById("breed_image").src = storedBreeds[index].image.url;

            document.getElementById("breed_json").textContent = storedBreeds[index].temperament


            document.getElementById("wiki_link").href = storedBreeds[index].wikipedia_url
            document.getElementById("wiki_link").innerHTML = storedBreeds[index].wikipedia_url
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>

</html>